<% wrap_layout :layout do %>
  
  <%# Meta Tags %>
  <% content_for :meta do %>
    <%= partial("partials/head/meta_tags", locals: {
      local_type:        "website",
      local_card:        "summary_large_image",
      local_image:       "your-page-hero.jpg",
      local_title:       "Writing — Dixon & Moe",
      local_description: "Your page description"
    }) %>
  <% end %>

  <%# Breadcrumbs %>
  <% content_for :breadcrumbs do %>
    <%= partial("partials/breadcrumbs", locals: {
      local_paths: [
        { url: "/", name: "Dixon & Moe" },
        { url: "/blog/", name: "Blog" }
      ],
      local_seperator: "›"
    }) %>
  <% end %>

  <article itemscope itemtype="https://schema.org/Article">
    <%# Blog Header %>
    <header class="blog-header">
      <div class="blog-header__graphic"></div>
      <div class="row">
        <div class="col-xs-24 col-sm-21 col-md-16 col-lg-12 col-lg-offset-2">
          <h1 class="blog-header__title" itemprop="headline"><%= current_page.data.title %></h1>
          <span class="blog-header__date">Posted on
            <time datetime="<%= current_page.data.date %>" itemprop="datePublished"><%= current_page.data.date.strftime("%b %d, %Y") %></datetime>
          </span>
        </div>
      </div>
    </header>
    <%# Blog Content %>
    <section class="blog-content" itemprop="articleBody">
      <div class="row">
        <div class="col-xs-24 col-sm-21 col-sm-offset-3 col-md-15 col-md-offset-2">
          <%= yield %>
        </div>
      </div>
    </section>
  </article>

  <br><br><br><br>
  <aside>
    <div class="row">
      <div class="col-xs-24 col-sm-20 col-md-16 col-sm-centered col-lg-12 col-lg-offset-2">
        <h4>Recent Articles</h4>
        <ol>
          <% blog.articles[0...10].each do |article| %>
            <li><%= link_to article.title, article %> <span><%= article.date.strftime('%b %e') %></span></li>
          <% end %>
        </ol>

        <h4>Tags</h4>
        <ol>
          <% blog.tags.each do |tag, articles| %>
            <li><%= link_to "#{tag} (#{articles.size})", tag_path(tag) %></li>
          <% end %>
        </ol>

        <!-- <h4>By Year</h4>
        <ol>
          <% blog.articles.group_by {|a| a.date.year }.each do |year, articles| %>
            <li><%= link_to "#{year} (#{articles.size})", blog_year_path(year) %></li>
          <% end %>
        </ol> -->
      </div>
    </div>
  </aside>


<% end %>